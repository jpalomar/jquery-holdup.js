!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){"use strict";var o=function(n,o,r){var e=function(e){var s=n.scrollTop();return e+o.height()>=s-r&&e<=s+n.height()+r},s=function(r){var e=n.scrollLeft();return r<=e+n.width()&&r+o.width()>=e},t=o.offset();return e(t.top)&&s(t.left)},r=function(o){if(!o.isTrigger){var r=n("."+c);r.length?r.holdup("render"):f&&A.ignore()}},e=function(o,r,e){var s,t,i,u=null,l=0,a=function(){i=o.apply(s,t),u=s=t=null},c=function(){l=e?0:n.now(),a()};return function d(){var o=n.now();!l&&e&&(l=o);var d=r-(o-l);return s=this,t=arguments,0>=d?(clearTimeout(u),l=o,a()):u||e||(u=setTimeout(c,d)),i}},s=e(r,300),t=e(r,250,!0),i=function(n,o){var r=function(){n.removeClass(c+" "+o.successClass).addClass(o.errorClass),o.onError&&o.onError.apply(n,arguments)},e=function(){n.is("img")?n.prop("src",s).removeClass(c+" "+o.errorClass).addClass(o.successClass):n.css("background-image",'url("'+s+'")'),o.onSuccess&&o.onSuccess.apply(n,arguments)},s=n.data(o.srcAttr)||n.data(d),t;s?(t=new Image,t.onerror=r,t.onload=e,t.src=s):r()},u=n(window),l="resize.holdup",a="scroll.holdup",c="holdup-pending",d="src",f=!1,h=n.fn.holdup,p=function(o,r){var e=this,s=e.options=n.extend({},p.DEFAULTS,r);e.$el=n(o).addClass(s.baseClass+" "+c).prop("src",s.placeholder),e.isloaded=!1,e.observe(),e.render()},A=p.prototype;return A.show=function(){i(this.$el,this.options)},A.render=function(){!this.isloaded&&o(u,this.$el,this.options.threshold)&&this.show()},A.observe=function(){f||(u.on(a,s).on(l,t),f=!0)},A.ignore=function(){u.off(a).off(l),f=!1},p.DEFAULTS={baseClass:"heldup",errorClass:"heldup-error",successClass:"heldup-success",onSuccess:null,onError:null,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",threshold:0,srcAttr:window.devicePixelRatio>1?"src-retina":d},n.fn.holdup=function(o){return this.each(function(){var r=n(this),e=r.data("holdup");e||r.data("holdup",e=new p(this,"object"==typeof o&&o)),"string"==typeof o&&e[o]&&e[o]()})},n.fn.holdup.Constructor=p,n.fn.holdup.noConflict=function(){return n.fn.holdup=h,this},n.fn.holdup});
//# sourceMappingURL=./jquery-holdup-min.js.map