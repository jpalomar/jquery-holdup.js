!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function($){"use strict";var n=function(n,o,r){var e=function(e){var s=n.scrollTop();return e+o.height()>=s-r&&e<=s+n.height()+r},s=function(r){var e=n.scrollLeft();return r<=e+n.width()&&r+o.width()>=e},t=o.offset();return e(t.top)&&s(t.left)},o=function(n){if(!n.isTrigger){var o=$("."+a);o.length?o.holdup("render"):d&&p.ignore()}},r=function(n,o,r){var e,s,t,i=null,u=0,l=function(){t=n.apply(e,s),i=e=s=null},a=function(){u=r?0:$.now(),l()};return function c(){var n=$.now();!u&&r&&(u=n);var c=o-(n-u);return e=this,s=arguments,0>=c?(clearTimeout(i),u=n,l()):i||r||(i=setTimeout(a,c)),t}},e=r(o,300),s=r(o,250,!0),t=function(n,o){var r=function(){n.removeClass(a+" "+o.successClass).addClass(o.errorClass),o.onError&&o.onError.apply(n,arguments)},e=function(){n.is("img")?n.prop("src",s).removeClass(a+" "+o.errorClass).addClass(o.successClass):n.css("background-image",'url("'+s+'")'),o.onSuccess&&o.onSuccess.apply(n,arguments)},s=n.data(o.srcAttr)||n.data(c),t;s?(t=new Image,t.onerror=r,t.onload=e,t.src=s):r()},i=$(window),u="resize.holdup",l="scroll.holdup",a="holdup-pending",c="src",d=!1,f=$.fn.holdup,h=function(n,o){var r=this,e=r.options=$.extend({},h.DEFAULTS,o);r.$el=$(n).addClass(e.baseClass+" "+a).prop("src",e.placeholder),r.isloaded=!1,r.observe(),r.render()},p=h.prototype;return p.show=function(){t(this.$el,this.options)},p.render=function(){!this.isloaded&&n(i,this.$el,this.options.threshold)&&this.show()},p.observe=function(){d||(i.on(l,e).on(u,s),d=!0)},p.ignore=function(){i.off(l).off(u),d=!1},h.DEFAULTS={baseClass:"heldup",errorClass:"heldup-error",successClass:"heldup-success",onSuccess:null,onError:null,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",threshold:0,srcAttr:window.devicePixelRatio>1?"src-retina":c},$.fn.holdup=function(n){return this.each(function(){var o=$(this),r=o.data("holdup"),e=typeof n;r||o.data("holdup",r=new h(this,"object"===e&&n)),"string"===e&&r[n]&&r[n]()})},$.fn.holdup.Constructor=h,$.fn.holdup.noConflict=function(){return $.fn.holdup=f,this},$.fn.holdup});
//# sourceMappingURL=./jquery-holdup-min.js.map